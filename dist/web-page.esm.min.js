const n="load",e="show",t="hide",o="enter",i="leave",d="unload";let c,s;const a={};function l(n,e,t){n.addEventListener?`on${e}`in n&&n.addEventListener(e,t,!0):n.attachEvent&&n.attachEvent("on"+e,t)}function u(n,e){const t=a[n];if(t)for(let n=0,o=t.length;n<o;n++)t[n]&&t[n]({event:e,visible:c,persisted:s})}function f(){const n=document.visibilityState;c="visible"===n||"hidden"!==n&&void 0}function h(n){f(),!0===c?u("show",n):!1===c&&u("hide",n)}function r(n){s=n.persisted,u("enter",n)}function v(n){u("leave",n)}function w(n){u("unload",n)}function p(){f(),l(document,"visibilitychange",h),l(window,"pageshow",r),l(window,"pagehide",v),l(window,"beforeunload",w)}function b(n,e){const t=a[n]||(a[n]=[]);return t.push(e),"load"===n&&u("load"),{remove(){for(let n=0,o=t.length;n<o;n++)t[n]===e&&t.splice(n,1)}}}const g="0.0.2";export{o as ENTER,t as HIDE,i as LEAVE,n as LOAD,e as SHOW,d as UNLOAD,b as addEventListener,p as init,g as version};
//# sourceMappingURL=web-page.esm.min.js.map
