const n="load",t="show",o="hide",e="unload";let i;const c={};function d(n,t,o){n.addEventListener?`on${t}`in n&&n.addEventListener(t,o,!0):n.attachEvent&&n.attachEvent("on"+t,o)}function l(n,t){const o=c[n];if(o)for(let n=0,e=o.length;n<e;n++)o[n]&&o[n]({event:t,visible:i})}function s(){const n=document.visibilityState;i="visible"===n||"hidden"!==n&&void 0}function a(n){s(),!0===i?l("show",n):!1===i&&l("hide",n)}function u(n){l("unload",n)}function f(){s(),d(document,"visibilitychange",a),d(window,"beforeunload",u)}function h(n,t){const o=c[n]||(c[n]=[]);return o.push(t),"load"===n&&l("load"),{remove(){for(let n=0,e=o.length;n<e;n++)o[n]===t&&o.splice(n,1)}}}const v="0.0.1";export{o as HIDE,n as LOAD,t as SHOW,e as UNLOAD,h as addEventListener,f as init,v as version};
//# sourceMappingURL=web-page.esm.min.js.map
