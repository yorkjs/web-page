!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).WebPage={})}(this,(function(e){"use strict";var n,i,t="show",o="hide",d="enter",f="leave",r=!1,u=!1,a={},s={};function c(e,n){return"on"+n in e}function v(e,n,i){e.addEventListener?e.addEventListener(n,i,!0):e.attachEvent&&e.attachEvent("on"+n,i)}function w(e,n){var i;return function(){i||(e(arguments[0]),i=setTimeout((function(){i=void 0}),n))}}function l(e,t){var o={event:t,visible:n,persisted:i};a[e]=o,r&&!u&&h(e,o)}function h(e,n){var i=s[e];if(i)for(var t=0,o=i.length;t<o;t++)i[t]&&i[t](n)}function p(){var e=document.visibilityState;n="visible"===e||"hidden"!==e&&void 0}var b=w((function(e){r||(r=!0,i=!0===e.persisted,l(d,e))}),200),g=w((function(e){r&&(l(f,e),r=!1)}),200);p(),c(document,"visibilitychange")&&v(document,"visibilitychange",(function(e){p(),!0===n?l(t,e):!1===n&&l(o,e)})),c(window,"pageshow")&&v(window,"pageshow",b),v(window,"load",b),c(window,"pagehide")&&v(window,"pagehide",g),v(window,"beforeunload",g),c(window,"freeze")&&v(window,"freeze",(function(){u=!0})),c(window,"resume")&&v(window,"resume",(function(){u=!1}));e.ENTER=d,e.HIDE=o,e.LEAVE=f,e.SHOW=t,e.addEventListener=function(e,n){var i=s[e]||(s[e]=[]);return i.push(n),e===d&&a[e]&&h(e,a[e]),{remove:function(){for(var e=0,t=i.length;e<t;e++)i[e]===n&&i.splice(e,1)}}},e.init=function(){},e.version="0.0.6",Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=web-page.min.js.map
