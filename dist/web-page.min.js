!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).WebPage={})}(this,(function(e){"use strict";var n,i,t="show",o="hide",d="enter",u="leave",f=void 0,r=!1,c={},s={};function a(e,n){return"on"+n in e}function v(e,n,i){e.addEventListener?e.addEventListener(n,i,!0):e.attachEvent&&e.attachEvent("on"+n,i)}function l(e,n){var i;return function(){i||(e(arguments[0]),i=setTimeout((function(){i=void 0}),n))}}function h(e,t){var o={event:t,visible:n,persisted:i};c[e]=o,!1===f||r||p(e,o)}function p(e,n){var i=s[e];if(i)for(var t=0,o=i.length;t<o;t++)i[t]&&i[t](n)}function w(){var e=document.visibilityState;n="visible"===e||"hidden"!==e&&void 0}var m=l((function(e){f||(f=!0,h(d,e))}),200),b=l((function(e){!1!==f&&(h(u,e),f=!1)}),200);w(),a(document,"visibilitychange")&&v(document,"visibilitychange",(function(e){w(),!0===n?h(t,e):!1===n&&h(o,e)})),a(document,"freeze")&&v(document,"freeze",(function(){r=!0})),a(document,"resume")&&v(document,"resume",(function(){r=!1})),a(window,"pageshow")?v(window,"pageshow",(function(e){i=e.persisted,m(e)})):v(window,"load",m),a(window,"pagehide")&&v(window,"pagehide",(function(e){i=e.persisted,b(e)})),v(window,"beforeunload",b);e.ENTER=d,e.HIDE=o,e.LEAVE=u,e.SHOW=t,e.addEventListener=function(e,n){var i=s[e]||(s[e]=[]);return i.push(n),e===d&&c[e]&&p(e,c[e]),{remove:function(){for(var e=0,t=i.length;e<t;e++)i[e]===n&&i.splice(e,1)}}},e.init=function(){},e.version="0.1.0",Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=web-page.min.js.map
