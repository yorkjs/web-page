!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).WebPage={})}(this,(function(e){"use strict";var n,i,t="show",o="hide",d="enter",f="leave",u=!1,r=!1,s={},c={};function a(e,n){return"on"+n in e}function v(e,n,i){e.addEventListener?e.addEventListener(n,i,!0):e.attachEvent&&e.attachEvent("on"+n,i)}function w(e,n){var i;return function(){i||(e(arguments[0]),i=setTimeout((function(){i=void 0}),n))}}function l(e,t){var o={event:t,visible:n,persisted:i};s[e]=o,u&&!r&&h(e,o)}function h(e,n){var i=c[e];if(i)for(var t=0,o=i.length;t<o;t++)i[t]&&i[t](n)}function p(){var e=document.visibilityState;n="visible"===e||"hidden"!==e&&void 0}var b=w((function(e){u||(u=!0,l(d,e))}),200),g=w((function(e){u&&(l(f,e),u=!1)}),200);p(),a(document,"visibilitychange")&&v(document,"visibilitychange",(function(e){p(),!0===n?l(t,e):!1===n&&l(o,e)})),a(window,"pageshow")?v(window,"pageshow",(function(e){i=e.persisted,b(e)})):v(window,"load",b),a(window,"pagehide")&&v(window,"pagehide",(function(e){i=e.persisted,g(e)})),v(window,"beforeunload",g),a(window,"freeze")&&v(window,"freeze",(function(){r=!0})),a(window,"resume")&&v(window,"resume",(function(){r=!1}));e.ENTER=d,e.HIDE=o,e.LEAVE=f,e.SHOW=t,e.addEventListener=function(e,n){var i=c[e]||(c[e]=[]);return i.push(n),e===d&&s[e]&&h(e,s[e]),{remove:function(){for(var e=0,t=i.length;e<t;e++)i[e]===n&&i.splice(e,1)}}},e.init=function(){},e.version="0.0.7",Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=web-page.min.js.map
