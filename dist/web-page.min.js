!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).WebPage={})}(this,(function(e){"use strict";var n,i,t="load",o="show",d="hide",f="enter",a="leave",s="unload",r={};function u(e,n,i){e.addEventListener?"on"+n in e&&e.addEventListener(n,i,!0):e.attachEvent&&e.attachEvent("on"+n,i)}function c(e,t){var o=r[e];if(o)for(var d=0,f=o.length;d<f;d++)o[d]&&o[d]({event:t,visible:n,persisted:i})}function v(){var e=document.visibilityState;n="visible"===e||"hidden"!==e&&void 0}function l(e){v(),!0===n?c(o,e):!1===n&&c(d,e)}function h(e){i=e.persisted,c(f,e)}function p(e){c(a,e)}function b(e){c(s,e)}e.ENTER=f,e.HIDE=d,e.LEAVE=a,e.LOAD=t,e.SHOW=o,e.UNLOAD=s,e.addEventListener=function(e,n){var i=r[e]||(r[e]=[]);return i.push(n),e===t&&c(t),{remove:function(){for(var e=0,t=i.length;e<t;e++)i[e]===n&&i.splice(e,1)}}},e.init=function(){v(),u(document,"visibilitychange",l),u(window,"pageshow",h),u(window,"pagehide",p),u(window,"beforeunload",b)},e.version="0.0.2",Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=web-page.min.js.map
